СПИСОК ТЕСТ-КЕЙСІВ ПРОЄКТУ

Дата: 19 листопада 2025
Загальна кількість тестів: 96
Статус: Всі тести пройдені успішно

================================================================================

ЗАГАЛЬНА СТАТИСТИКА

Категорія          | Кількість файлів | Кількість тестів | Статус
Backend            | 4                | 47               | PASS
Frontend           | 3                | 49               | PASS
Разом              | 7                | 96               | PASS

================================================================================

BACKEND ТЕСТИ (47 тестів)

--------------------------------------------------------------------------------

1. UserService (src/services/UserService.test.ts) - 15 тестів

createUser (2 тести)
  • повинен створити нового користувача
  • повинен генерувати унікальний ID для користувача

getUserById (2 тести)
  • повинен отримати користувача за ID
  • повинен повернути null, якщо користувач не знайдений

getUserByEmail (2 тести)
  • повинен отримати користувача за email
  • повинен повернути null, якщо користувач з таким email не знайдений

getAllUsers (2 тести)
  • повинен отримати всіх користувачів
  • повинен повернути порожній масив, якщо користувачів немає

getAllUsersWithSubscriptions (2 тести)
  • повинен отримати користувачів з інформацією про підписки
  • повинен повернути користувачів без підписок, якщо їх немає

updateUser (4 тести)
  • повинен оновити ім'я користувача
  • повинен оновити email користувача
  • повинен оновити і ім'я, і email одночасно
  • повинен повернути null, якщо користувач не знайдений

deleteUser (2 тести)
  • повинен видалити користувача
  • повинен повернути false, якщо користувач не знайдений

--------------------------------------------------------------------------------

2. SubscriptionPlanService (src/services/SubscriptionPlanService.test.ts) - 16 тестів

createPlan (2 тести)
  • повинен створити місячний план підписки
  • повинен створити річний план підписки

getPlanById (2 тести)
  • повинен отримати план за ID
  • повинен повернути null, якщо план не знайдений

getAllPlans (2 тести)
  • повинен отримати всі плани
  • повинен повернути порожній масив, якщо планів немає

updatePlan (5 тестів)
  • повинен оновити назву плану
  • повинен оновити ціну плану
  • повинен оновити період плану
  • повинен оновити всі поля плану одночасно
  • повинен повернути null, якщо план не знайдений

deletePlan (2 тести)
  • повинен видалити план
  • повинен повернути false, якщо план не знайдений

getPlansByPeriod (3 тести)
  • повинен отримати всі місячні плани
  • повинен отримати всі річні плани
  • повинен повернути порожній масив, якщо планів з таким періодом немає

--------------------------------------------------------------------------------

3. PaymentSimulationService (src/services/PaymentSimulationService.test.ts) - 10 тестів

simulatePayment (6 тестів)
  • повинен симулювати оплату місячної підписки
  • повинен симулювати оплату річної підписки
  • повинен правильно розрахувати дату закінчення місячної підписки
  • повинен правильно розрахувати дату закінчення річної підписки
  • повинен викинути помилку, якщо план підписки не знайдений
  • повинен створити транзакцію з правильними даними

getTransactions (3 тести)
  • повинен отримати всі транзакції
  • повинен повернути порожній масив, якщо транзакцій немає
  • повинен правильно маппити дані транзакцій

--------------------------------------------------------------------------------

4. UserSubscriptionService (src/services/UserSubscriptionService.test.ts) - 6 тестів

getUserSubscriptionsAsSubscription (6 тестів)
  • повинен отримати підписку користувача за email
  • повинен правильно конвертувати дату закінчення підписки
  • повинен повернути null, якщо підписка не знайдена
  • повинен повернути першу підписку, якщо їх кілька
  • повинен працювати з різними форматами email
  • повинен обробляти підписки з різними планами

================================================================================

FRONTEND ТЕСТИ (49 тестів)

--------------------------------------------------------------------------------

5. API Services (frontend/src/services/api.test.ts) - 14 тестів

usersApi (6 тестів)
  • getAll - повинен отримати всіх користувачів
  • getAll - повинен повернути порожній масив, якщо даних немає
  • getById - повинен отримати користувача за ID
  • create - повинен створити нового користувача
  • update - повинен оновити користувача
  • delete - повинен видалити користувача

plansApi (4 тести)
  • getAll - повинен отримати всі плани підписок
  • create - повинен створити новий план
  • update - повинен оновити план
  • delete - повинен видалити план

paymentApi (4 тести)
  • simulate - повинен симулювати платіж
  • getTransactions - повинен отримати всі транзакції
  • getTransactions - повинен повернути порожній масив, якщо транзакцій немає
  • getUserTransactions - повинен отримати транзакції користувача

--------------------------------------------------------------------------------

6. UsersPage Component (frontend/src/pages/UsersPage.test.tsx) - 18 тестів

Рендеринг (6 тестів)
  • повинен показувати індикатор завантаження спочатку
  • повинен відобразити заголовок сторінки
  • повинен відобразити кнопку "Додати користувача"
  • повинен відобразити таблицю з користувачами
  • повинен відобразити статус підписки "Активна" для користувача з підпискою
  • повинен відобразити "Без підписки" для користувача без підписки

Створення користувача (3 тести)
  • повинен відкрити діалог при натисканні "Додати користувача"
  • повинен створити нового користувача
  • повинен закрити діалог при натисканні "Скасувати"

Оновлення користувача (2 тести)
  • повинен відкрити діалог редагування при натисканні кнопки редагування
  • повинен оновити користувача

Видалення користувача (2 тести)
  • повинен показати підтвердження перед видаленням
  • повинен видалити користувача після підтвердження

Форматування даних (2 тести)
  • повинен форматувати дату закінчення підписки
  • повинен відображати "Немає" для відсутнього плану

--------------------------------------------------------------------------------

7. PlansPage Component (frontend/src/pages/PlansPage.test.tsx) - 17 тестів

Рендеринг (8 тестів)
  • повинен показувати індикатор завантаження спочатку
  • повинен відобразити заголовок сторінки
  • повинен відобразити кнопку "Додати план"
  • повинен відобразити картки планів
  • повинен відобразити ціни планів
  • повинен відобразити період "місяць" для місячного плану
  • повинен відобразити період "рік" для річного плану
  • повинен відобразити розрахунок місячної вартості для річного плану

Створення плану (4 тести)
  • повинен відкрити діалог при натисканні "Додати план"
  • повинен створити новий місячний план
  • повинен викликати create API при створенні річного плану
  • повинен закрити діалог при натисканні "Скасувати"

Оновлення плану (2 тести)
  • повинен відкрити діалог редагування при натисканні кнопки редагування
  • повинен оновити план

Видалення плану (2 тести)
  • повинен показати підтвердження перед видаленням
  • повинен видалити план після підтвердження

Функції утиліт (1 тест)
  • повинен правильно розраховувати місячну вартість для річного плану

================================================================================

ЗАПУСК ТЕСТІВ

Backend тести:
  • npm test - Запустити всі backend тести
  • npm run test:watch - Запустити в режимі спостереження
  • npm run test:coverage - Запустити з покриттям коду

Frontend тести:
  • npm run frontend:test - Запустити всі frontend тести
  • cd frontend && npm test - Запустити в інтерактивному режимі

Запустити всі тести разом:
  • npm test - Backend
  • npm run frontend:test - Frontend

================================================================================

ПОКРИТТЯ ТЕСТАМИ

Backend:
  • UserService - повне покриття всіх методів (15 тестів)
  • SubscriptionPlanService - повне покриття всіх методів (16 тестів)
  • PaymentSimulationService - повне покриття всіх методів (10 тестів)
  • UserSubscriptionService - повне покриття всіх методів (6 тестів)

Frontend:
  • API Services - повне покриття всіх API методів (14 тестів)
  • UsersPage - повне покриття UI та взаємодій (18 тестів)
  • PlansPage - повне покриття UI та взаємодій (17 тестів)

================================================================================

ТЕХНОЛОГІЇ ТЕСТУВАННЯ

Backend:
  • Jest - фреймворк для тестування
  • ts-jest - підтримка TypeScript
  • Mocking - мокування залежностей (DatabaseService)

Frontend:
  • Jest - фреймворк для тестування
  • React Testing Library - тестування React компонентів
  • @testing-library/user-event - симуляція користувацьких подій
  • @testing-library/jest-dom - додаткові матчери для DOM

================================================================================

РЕЗУЛЬТАТИ

Всі 96 тестів пройшли успішно

  • Backend: 47/47 тестів
  • Frontend: 49/49 тестів
  • Час виконання backend: ~1.3s
  • Час виконання frontend: ~41s

================================================================================

ПРИМІТКИ

1. Всі тести використовують мокування для ізоляції від реальних залежностей
2. Тести покривають позитивні та негативні сценарії
3. Фронтенд тести перевіряють як рендеринг, так і взаємодію користувача
4. Backend тести перевіряють бізнес-логіку всіх сервісів
5. Використовуються best practices для тестування (AAA pattern, чіткі назви, незалежність тестів)

================================================================================
