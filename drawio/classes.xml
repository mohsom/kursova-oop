<mxfile host="app.diagrams.net" modified="2025-11-24T17:40:00.000Z" agent="Mozilla/5.0" etag="gK4dE8iY2vG0X-fWj-W6" version="23.1.5" type="embed">
  <diagram id="uml_full_diagram_v4" name="UML Діаграма Класів">
    <mxGraphModel dx="1295" dy="728" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1300" pageHeight="850" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <mxCell id="101" value="&lt;b&gt;&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&lt;br&gt;DatabaseService&amp;lt;T&amp;gt;&lt;/b&gt;&lt;hr&gt;+ findAll(): Promise&amp;lt;T[]&amp;gt;&lt;br&gt;+ findById(id): Promise&amp;lt;T | null&amp;gt;&lt;br&gt;+ create(data): Promise&amp;lt;T&amp;gt;&lt;br&gt;+ update(id, data): Promise&amp;lt;T | null&amp;gt;&lt;br&gt;+ delete(id): Promise&amp;lt;boolean&amp;gt;&lt;br&gt;+ findBy(criteria): Promise&amp;lt;T[]&amp;gt;" style="html=1;whiteSpace=wrap;fillColor=#f0f8ff;strokeColor=#99ccff;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="10" y="450" width="220" height="180" as="geometry" />
        </mxCell>
        
        <mxCell id="102" value="&lt;b&gt;JSONDatabaseService&amp;lt;T&amp;gt;&lt;/b&gt;&lt;hr&gt;- filePath: string&lt;br&gt;- data: T[]&lt;hr&gt;+ findAll(): Promise&amp;lt;T[]&amp;gt;&lt;br&gt;# readFromFile(): Promise&amp;lt;T[]&amp;gt;&lt;br&gt;# writeToFile(data): Promise" style="html=1;whiteSpace=wrap;fillColor=#cce5ff;strokeColor=#3399ff;fontFamily=Arial;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="10" y="680" width="220" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="103" value="&lt;i&gt;&lt;u&gt;implements&lt;/u&gt;&lt;/i&gt;" style="endArrow=block;endFill=0;endSize=10;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="102" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="680" as="sourcePoint" />
            <mxPoint x="120" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="201" value="&lt;b&gt;User&lt;/b&gt;&lt;hr&gt;+ id: string&lt;br&gt;+ name: string&lt;br&gt;+ email: string&lt;br&gt;- subscription: UserSubscription | undefined&lt;hr&gt;+ setSubscription(sub): void&lt;br&gt;+ hasActiveSubscription(): boolean&lt;br&gt;+ getSubscriptionInfo(): string" style="html=1;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Arial;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="300" y="50" width="230" height="170" as="geometry" />
        </mxCell>
        
        <mxCell id="202" value="&lt;b&gt;SubscriptionPlan&lt;/b&gt;&lt;hr&gt;+ id: string&lt;br&gt;+ name: string&lt;br&gt;+ price: number&lt;br&gt;+ period: 'monthly' | 'yearly'&lt;hr&gt;+ isYearly(): boolean" style="html=1;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Arial;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="840" y="50" width="220" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="203" value="&lt;b&gt;UserSubscription&lt;/b&gt;&lt;hr&gt;+ email: string&lt;br&gt;+ subscriptionPlanId: string&lt;br&gt;+ subscriptionEndDate: Date&lt;hr&gt;+ getDaysLeft(): number&lt;br&gt;+ isActive(): boolean&lt;br&gt;+ getStatus(): string" style="html=1;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Arial;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="580" y="260" width="220" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="204" value="&lt;b&gt;Transaction&lt;/b&gt;&lt;hr&gt;+ id: string&lt;br&gt;+ amount: number&lt;br&gt;+ email: string&lt;br&gt;+ subscriptionPlanId: string&lt;br&gt;+ date: string&lt;hr&gt;+ getInfo()&lt;br&gt;+ isValidAmount()&lt;br&gt;+ getAmountInUSD()&lt;/b&gt;" style="html=1;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="300" y="260" width="230" height="180" as="geometry" />
        </mxCell>
        
        <mxCell id="205" value="1" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=diamond;startSize=12;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="201" target="203">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="135" as="sourcePoint" />
            <mxPoint x="580" y="335" as="targetPoint" />
            <Array as="points">
              <mxPoint x="555" y="135" />
              <mxPoint x="555" y="295" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="206" value="0..1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=middle;" vertex="1" connectable="0" parent="205">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="207" value="має" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=bottom;" vertex="1" connectable="0" parent="205">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="208" value="N" style="endArrow=block;html=1;edgeStyle=orthogonalEdgeStyle;endFill=1;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="203" target="202">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="335" as="sourcePoint" />
            <mxPoint x="840" y="125" as="targetPoint" />
            <Array as="points">
              <mxPoint x="820" y="335" />
              <mxPoint x="820" y="160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="209" value="1" style="edgeLabel;resizable=0;html=1;align=right;verticalAlign=middle;" vertex="1" connectable="0" parent="208">
          <mxGeometry x="1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="210" value="посилається" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=bottom;" vertex="1" connectable="0" parent="208">
          <mxGeometry x="0" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="211" value="N" style="endArrow=block;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" edge="1" parent="1" source="204" target="203">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415" y="440" as="sourcePoint" />
            <mxPoint x="690" y="410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="415" y="455" />
              <mxPoint x="690" y="455" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="212" value="пов'язана" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" connectable="0" parent="211">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="301" value="&lt;b&gt;DatabaseFactory&lt;/b&gt;&lt;br&gt;&lt;i&gt;&amp;lt;&amp;lt;Singleton&amp;gt;&amp;gt;&lt;/i&gt;&lt;hr&gt;- instance: DatabaseFactory&lt;hr&gt;+ createService&amp;lt;T&amp;gt;(): DatabaseService&amp;lt;T&amp;gt;" style="html=1;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="100" y="50" width="160" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="302" value="&lt;b&gt;UserService&lt;/b&gt;&lt;hr&gt;+ createUser(name, email): Promise&amp;lt;User&amp;gt;&lt;br&gt;+ getUserById(id): Promise&amp;lt;User | null&amp;gt;&lt;br&gt;+ getAllUsersWithSubscriptions(): Promise&amp;lt;any[]&amp;gt;" style="html=1;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="300" y="650" width="230" height="130" as="geometry" />
        </mxCell>
        
        <mxCell id="303" value="&lt;b&gt;PaymentSimulationService&lt;/b&gt;&lt;hr&gt;+ simulatePayment(...): Promise&amp;lt;{ sub, tx }&amp;gt;&lt;br&gt;+ getTransactions(): Promise&amp;lt;Transaction[]&amp;gt;" style="html=1;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="600" y="650" width="280" height="110" as="geometry" />
        </mxCell>
        
        <mxCell id="304" value="&lt;b&gt;UserSubscriptionService&lt;/b&gt;" style="html=1;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="920" y="650" width="200" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="305" value="&lt;b&gt;SubscriptionPlanService&lt;/b&gt;" style="html=1;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Arial;fontSize:12;" vertex="1" parent="1">
          <mxGeometry x="920" y="720" width="200" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="306" value="створює" style="endArrow=block;html=1;edgeStyle=orthogonalEdgeStyle;endFill=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="301" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="200" as="sourcePoint" />
            <mxPoint x="120" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="307" value="&lt;i&gt;DI: userRepository&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="302" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415" y="650" as="sourcePoint" />
            <mxPoint x="120" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="415" y="520" />
              <mxPoint x="230" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="308" value="&lt;i&gt;DI&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="302" target="304">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="670" as="sourcePoint" />
            <mxPoint x="920" y="670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="670" />
              <mxPoint x="560" y="670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="309" value="&lt;i&gt;DI&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="302" target="305">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="670" as="sourcePoint" />
            <Point x="920" y="740" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="670" />
              <mxPoint x="560" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="310" value="&lt;i&gt;DI: planRepository&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="303" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="740" y="650" as="sourcePoint" />
            <Point x="120" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="740" y="520" />
              <mxPoint x="230" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="311" value="&lt;i&gt;DI: subRepository&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="303" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="740" y="650" as="sourcePoint" />
            <Point x="120" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="740" y="440" />
              <mxPoint x="120" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="312" value="&lt;i&gt;DI: transactionRepository&lt;/i&gt;" style="endArrow=open;endFill=0;endSize=12;html=1;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="303" target="101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="740" y="650" as="sourcePoint" />
            <Point x="120" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="740" y="360" />
              <mxPoint x="120" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>